graph TB
    subgraph "Frontend"
        UI[Usuario Frontend]
    end
    
    subgraph "Security Layer"
        JWT[JWT Authentication]
        AUTH[Spring Security]
    end
    
    subgraph "Controller Layer"
        UC[UserController]
        VC[VehicleController]
        EC[EventController]
        SC[StageController]
        SRC[StageResultController]
        EVC[EventVehicleController]
        ECC[EventCategoryController]
        CC[CategoryController]
    end
    
    subgraph "Service Layer"
        US[UserService]
        VS[VehicleService]
        ES[EventService]
        SS[StageService]
        SRS[StageResultService]
        EVS[EventVehicleService]
        ECS[EventCategoryService]
        CS[CategoryService]
    end
    
    subgraph "Data Layer"
        DB[(Base de Datos)]
    end
    
    UI --> JWT
    JWT --> AUTH
    AUTH --> UC
    AUTH --> VC
    AUTH --> EC
    AUTH --> SC
    AUTH --> SRC
    AUTH --> EVC
    AUTH --> ECC
    AUTH --> CC
    
    UC --> US
    VC --> VS
    EC --> ES
    SC --> SS
    SRC --> SRS
    EVC --> EVS
    ECC --> ECS
    CC --> CS
    
    US --> DB
    VS --> DB
    ES --> DB
    SS --> DB
    SRS --> DB
    EVS --> DB
    ECS --> DB
    CS --> DB 