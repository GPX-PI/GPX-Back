graph LR
    subgraph "🔐 Autenticación"
        A1[POST /api/users/simple-register]
        A2[POST /api/users/login]
        A3[GET /oauth2/authorization/google]
        A4[GET /api/oauth2/success]
    end
    
    subgraph "👤 Gestión de Usuarios"
        U1[GET /api/users]
        U2[GET /api/users/{id}]
        U3[PUT /api/users/{id}]
        U4[GET /api/users/admins]
        U5[GET /api/users/check-email]
    end
    
    subgraph "✅ Completar Perfil"
        P1[POST /api/users/{id}/complete-profile]
        P2[GET /api/oauth2/profile-status]
    end
    
    subgraph "🚗 Vehículos"
        V1[GET /api/vehicles]
        V2[POST /api/vehicles]
        V3[PUT/DELETE /api/vehicles/{id}]
    end
    
    subgraph "🏁 Eventos y Carreras"
        E1[GET /api/events]
        E2[POST/PUT/DELETE /api/events]
        E3[GET /api/stages]
        E4[GET /api/stageresults]
    end
    
    subgraph "📊 Permisos"
        PUB[🌐 Públicos]
        ADM[👑 Solo Admins]
        OWN[🔒 Propietario/Admin]
    end
    
    A1 --> PUB
    A2 --> PUB
    A3 --> PUB
    A4 --> PUB
    U5 --> PUB
    
    U1 --> ADM
    U4 --> ADM
    E2 --> ADM
    
    U2 --> OWN
    U3 --> OWN
    P1 --> OWN
    V3 --> OWN
    
    style A1 fill:#90EE90
    style A2 fill:#90EE90
    style A3 fill:#87CEEB
    style A4 fill:#87CEEB
    style P1 fill:#FFD700
    style P2 fill:#FFD700 