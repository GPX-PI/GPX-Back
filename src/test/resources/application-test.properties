# Configuración para tests - Perfil test
spring.profiles.active=test

# Base de datos H2 en memoria para tests
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# JPA/Hibernate para tests
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

# Deshabilitar consola H2 en tests
spring.h2.console.enabled=false

# Logging para tests (menos verbose)
logging.level.org.springframework=WARN
logging.level.org.hibernate=WARN
logging.level.com.udea.GPX=DEBUG

# Test específico - Deshabilitar actuator endpoints innecesarios
management.endpoints.enabled-by-default=false
management.endpoint.health.enabled=true

# OAuth2 - Mock para tests
spring.security.oauth2.client.registration.google.client-id=test-client-id
spring.security.oauth2.client.registration.google.client-secret=test-client-secret

# JWT configuración para tests (clave de al menos 32 caracteres)
jwt.secret=test-secret-key-for-unit-tests-only-not-for-production-use-minimum-32-chars
jwt.expiration=3600000

# Configuración OAuth2 adicional para tests
spring.security.oauth2.client.registration.google.authorization-grant-type=authorization_code
spring.security.oauth2.client.registration.google.redirect-uri=http://localhost:8080/login/oauth2/code/google

# Deshabilitar security para algunos tests
spring.security.enabled=false 